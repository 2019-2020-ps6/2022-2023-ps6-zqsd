<div class="card">
  <h2>Create a new Quiz</h2>
  <form class="quiz-form" [formGroup]="quizForm">
    <label for="name">
      Title <br>
      <input class="input-custom" type="text" id="name" [formControlName]="'name'">
      <br>
    </label>
    Theme <br>
    <select formControlName="theme">
      <option *ngFor="let theme of theme_list" [value]="theme">{{theme}}</option>
    </select>
    <br>



    <div formArrayName="questions">
      <div *ngFor="let question of quizForm.get('questions')?.value; let i = index; trackBy: trackByFn">
        <label for="question-{{i}}">Question {{i + 1}}</label>
        <br>
        <input type="text" id="question-{{i}}" [formControlName]="i">
      </div>
    </div>
    <button type="button" (click)="addQuestion()">Add a question</button>




    <div formArrayName="answers">
      <div *ngFor="let answer of quizForm.get('answers')?.value; let i = index; trackBy: trackByFn">
        <label for="answer-{{i}}">Answer {{i + 1}}</label>
        <br>
        <input type="text" id="answer-{{i}}" [formControlName]="i">
        <button type="button" (click)="setFalse(i)" [ngClass]="{'selected false': answer.isCorrect === false}">
          False
        </button>
        <button type="button" (click)="setTrue(i)" [ngClass]="{'selected true': answer.isCorrect === true}">
          True
        </button>
      </div>
    </div>
    <button type="button" (click)="addAnswer()">Add an answer</button>
    <br>

    <i class="fas fa-lightbulb"></i>
    <button type="submit" class="button-card" (click)="addQuiz()">Add the quizz</button>
  </form>
</div>
<!-- Uncomment below to see your form structure and how it changes-->
<!-- <br><br>{{quizForm.getRawValue() | json}} -->
